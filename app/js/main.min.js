const getNextDate=()=>{const e=new Date;e.setDate(e.getDate()+1);const t=e.getMonth();return`${e.getDate()} ${["січня","лютого","березня","квітня","травня","червня","липня","серпня","вересня","жовтня","листопада","грудня"][t]}`},setStartDate=()=>{const e=document.querySelector("#start-date");e&&(e.innerHTML=getNextDate())};setStartDate();class CountdownTimer{constructor(){this.timerElements={days:document.querySelector(".main__timer_wrap .timer__inner:nth-child(1) .timer"),hours:document.querySelector(".main__timer_wrap .timer__inner:nth-child(2) .timer"),minutes:document.querySelector(".main__timer_wrap .timer__inner:nth-child(3) .timer"),seconds:document.querySelector(".main__timer_wrap .timer__inner:nth-child(4) .timer")},this.initialTime={days:0,hours:23,minutes:59,seconds:59},this.initTimer()}initTimer(){this.endTime=this.getEndTime()||this.calculateEndTime(this.initialTime),this.timeLeft=this.calculateTimeLeft()}start(){this.updateDisplay(),this.timer=setInterval((()=>this.tick()),1e3)}tick(){this.timeLeft=this.calculateTimeLeft(),this.timeLeft.total<=0&&this.restartTimer(),this.updateDisplay()}restartTimer(){this.endTime=this.calculateEndTime(this.initialTime),this.timeLeft=this.calculateTimeLeft(),this.saveEndTime()}calculateTimeLeft(){const e=this.endTime-(new Date).getTime();return{total:e,days:Math.floor(e/864e5),hours:Math.floor(e/36e5%24),minutes:Math.floor(e/1e3/60%60),seconds:Math.floor(e/1e3%60)}}updateDisplay(){for(const[e,t]of Object.entries(this.timerElements))t&&(t.textContent=this.padZero(Math.max(0,this.timeLeft[e])))}padZero(e){return e.toString().padStart(2,"0")}saveEndTime(){localStorage.setItem("countdownTimerEnd",this.endTime.toString())}getEndTime(){const e=localStorage.getItem("countdownTimerEnd");return e?parseInt(e):null}calculateEndTime(e){return(new Date).getTime()+1e3*(24*e.days*60*60+60*e.hours*60+60*e.minutes+e.seconds)}reset(){clearInterval(this.timer),localStorage.removeItem("countdownTimerEnd"),this.initTimer(),this.start()}}window.globalTimer=null,window.resetTimer=function(){window.globalTimer?(window.globalTimer.reset(),console.log("Timer has been reset to initial time.")):console.log("Timer has not been initialized yet.")},document.addEventListener("DOMContentLoaded",(()=>{window.globalTimer=new CountdownTimer,window.globalTimer.start()}));const workGalleryItems=[{img:"./images/example-summer.jpg",alt:"Summer"},{img:"./images/example-season.jpg",alt:"Season"},{img:"./images/example-new-product.jpg",alt:"New product"},{img:"./images/example-healing-cream.png",alt:"Healing Cream",video:"./videos/example-healing-cream.mp4"},{img:"./images/example-speakers.png",alt:"Speakers",video:"./videos/example-speakers.mp4"},{img:"./images/example-model.png",alt:"Model",video:"./videos/example-model.mp4"},{img:"./images/example-black.jpg",alt:"Black",video:"./videos/black.mp4"}],DESKTOP_COUNT=3,MOBILE_COUNT=4,MOBILE_BREAKPOINT=680;let shownCount=0;const openModal=e=>{const t=videoModal.querySelector(".video-modal__content");t.innerHTML=`\n      <span class="video-modal__close"></span>\n      ${e}\n    `,videoModal.style.display="block",document.body.classList.add("modal-opened");const o=t.querySelector("video");o&&o.play()},onGalleryItemClick=e=>{e.video?openModal(`<video class="video-modal__player" controls autoplay>\n        <source src="${e.video}" type="video/mp4">\n        Your browser does not support the video tag.\n      </video>`):e.img&&openModal(`<img src="${e.img}" alt="${e.alt}" class="video-modal__player">`)},renderGallery=()=>{const e=document.getElementById("gallery-shown"),t=document.getElementById("gallery-hidden"),o=workGalleryItems.slice(0,shownCount),n=workGalleryItems.slice(shownCount);e.innerHTML="",t.innerHTML="";const i=e=>{const{video:t,img:o,alt:n}=e,i=document.createElement("div");return i.classList.add("work-examples__image-container"),t&&(i.dataset.video=t),i.innerHTML=`\n        <img src="${o}" alt="${n}" class="work-examples__image" width="340" height="340">\n        ${t?'<div class="work-examples__play-button"></div>':""}\n      `,i.onclick=()=>onGalleryItemClick(e),i};o.forEach((t=>{e.appendChild(i(t))})),n.forEach((e=>{t.appendChild(i(e))}))},toggleShowMore=()=>{const e=document.getElementById("showMoreBtn"),t=document.getElementById("gallery-shown"),o=document.getElementById("gallery-hidden");o.classList.toggle("work-examples__gallery--visible"),t.classList.toggle("work-examples__gallery--shown"),o.classList.contains("work-examples__gallery--visible")?(e.textContent="Сховати",setTimeout((()=>{const e=o.getBoundingClientRect().bottom,t=window.scrollY+e-window.innerHeight+150;window.scrollTo({top:t,behavior:"smooth"})}),500)):(e.textContent="Показати ще",e.style.transform="translateY(0)")},closeModal=()=>{const e=document.getElementById("videoModal");e.style.display="none",document.body.classList.remove("modal-opened");e.querySelector(".video-modal__content").innerHTML=""},updateShownCount=()=>{let e;e=window.innerWidth<=680?4:3,e!==shownCount&&(shownCount=e)};export const onLoad=()=>{const e=document.getElementById("showMoreBtn"),t=document.getElementById("videoModal");updateShownCount(),renderGallery(),window,addEventListener("resize",(()=>{updateShownCount(),renderGallery()})),e.addEventListener("click",(function(e){e.preventDefault(),toggleShowMore()})),t.addEventListener("click",(function(e){(e.target===t||e.target.classList.contains("video-modal__close"))&&closeModal()}))};import"./countdown-timer.js";import{onLoad as onGalleryLoad}from"./gallery.js";let loader=document.getElementById("preloader"),body=document.querySelector("body");window.addEventListener("load",(function(){loader.style.display="none",body.style.overflow=""})),document.addEventListener("DOMContentLoaded",(function(){document.querySelectorAll(".dropdown").forEach((function(e){e.addEventListener("click",(function(){const e=this.querySelector(".dropdown-content"),t=this.querySelector(".icon");e.classList.toggle("open"),t.classList.toggle("open"),this.classList.toggle("open")}))})),onGalleryLoad()})),document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".timer60sec");if(e){let t=60;const o=setInterval((function(){t--,e.textContent=t,0===t&&clearInterval(o)}),1e3)}}));